# Agno RAG Agent 环境变量配置示例 
# 复制此文件为 .env 并根据需要修改

# ============================================================================
# CRAG 配置
# ============================================================================

# 启用完整 CRAG（包含 T5 semantic evaluator 和 action routing）
# true: 使用完整 CRAG，false: 仅使用基础向量检索
USE_COMPLETE_CRAG=true

# 禁用快速路径优化（用于性能评估）
# true: 强制所有查询使用完整 CRAG，false: 启用快速路径优化
# 设置为 true 可以评估完整 CRAG 的性能，但会稍微降低速度
DISABLE_FAST_PATH=false

# CRAG 详细日志输出
# true: 输出详细的 CRAG 评估日志，false: 简化日志
VERBOSE_CRAG=false

# ============================================================================
# CRAG 参数
# ============================================================================

# 返回的知识片段数量
CRAG_TOP_K=5

# 相似度阈值（向量检索）
CRAG_SIMILARITY_THRESHOLD=0.15

# 知识分解模式: excerption（推荐）, fixed_num, selection
CRAG_DECOMPOSE_MODE=excerption

# CRAG Action 判定阈值
# Correct action: 至少一个文档分数 >= upper_threshold
CRAG_UPPER_THRESHOLD=0.6

# Incorrect action: 所有文档分数 < lower_threshold
CRAG_LOWER_THRESHOLD=0.2

# ============================================================================
# 模型配置
# ============================================================================

# LLM API 配置（使用 SiliconFlow）
# SILICONFLOW_API_KEY=your_api_key_here

# HuggingFace 镜像（用于加速模型下载）
# HF_ENDPOINT=https://hf-mirror.com

# ============================================================================
# T5 语义评估器配置
# ============================================================================

# T5 模型路径（默认: finetuned_t5_evaluator）
# 如果您的 T5 模型在其他位置，请指定完整路径
T5_EVALUATOR_PATH=finetuned_t5_evaluator

# T5 批处理大小（默认: 4，根据 GPU 内存调整）
# RTX 4070 推荐: 4-8
# RTX 3090/4090 推荐: 8-16
# CPU 推荐: 1-2
T5_BATCH_SIZE=4

# 启用 T5 语义评估器（默认: true，当 USE_COMPLETE_CRAG=true 时自动启用）
# 如果设置为 false，将使用词法评分（更快但准确性较低）
ENABLE_T5_EVALUATOR=true

# ============================================================================
# Web Search 配置（可选，用于 CRAG Incorrect/Ambiguous action）
# ============================================================================

# Google Search API（可选）
# GOOGLE_SEARCH_API_KEY=your_api_key
# GOOGLE_SEARCH_ENGINE_ID=your_engine_id

# ============================================================================
# 性能评估模式示例
# ============================================================================

# 要启用性能评估模式（强制完整 CRAG），取消注释以下行：
# USE_COMPLETE_CRAG=true
# DISABLE_FAST_PATH=true
# VERBOSE_CRAG=true

